[2025-10-22 14:14:32] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:14:32] [INFO] [rules] Starting risk assessment for transaction 324
[2025-10-22 14:14:32] [INFO] [rules] Transaction details: Amount=500.00 DZD, Type=transfer, Client=loay abassi
[2025-10-22 14:14:32] [INFO] [rules] ðŸŽ¯ Enhanced Distance-Based Risk Analysis for Transaction 324:
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Home location: (34.931003, 9.357500)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Current transaction location: (34.7275264, 10.7446272)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Last verified location: (35.628646, 10.898637)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Distance from last verified: 101.17km
[2025-10-22 14:14:32] [INFO] [rules]   ðŸŽ¯ Effective distance: 101.17km (minimum = safest path)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ† Closest reference point: LAST_VERIFIED
[2025-10-22 14:14:32] [INFO] [rules]   ðŸš§ Distance threshold: 60.0km
[2025-10-22 14:14:32] [WARNING] [rules] Rule 4 triggered: âš ï¸ Effective distance violation: 101.17km > 60.0km threshold
[2025-10-22 14:14:32] [WARNING] [rules] âŒ LOCATION VIOLATION: Effective distance 101.17km exceeds 60.0km threshold
[2025-10-22 14:14:32] [WARNING] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:14:32] [WARNING] [rules]   ðŸ“ Distance from last verified: 101.17km
[2025-10-22 14:14:32] [WARNING] [rules]   ðŸš« Both distances exceed threshold - OTP REQUIRED
[2025-10-22 14:14:32] [INFO] [rules] Rule evaluation: Effective Distance Violation - OTP REQUIRED | Transaction: 324 | Status: TRIGGERED | Risk Score: 50 | Data: {"rule_name": "Effective Distance Violation - OTP REQUIRED", "transaction_id": 324, "triggered": true, "risk_score": 50, "triggers": ["\u274c EFFECTIVE DISTANCE VIOLATION: 101.17km > 60.0km", "Distance from home: 128.61km", "Distance from last verified: 101.17km", "Effective distance (minimum): 101.17km", "Both distances exceed threshold \u2192 OTP REQUIRED"]}
[2025-10-22 14:14:32] [CRITICAL] [rules] ðŸ” MANDATORY OTP REQUIRED: Effective distance 101.17km exceeds 60.0km threshold for transaction 324
[2025-10-22 14:14:32] [CRITICAL] [rules] ðŸ” Effective distance-based OTP enforcement: Transaction 324 requires mandatory OTP
[2025-10-22 14:14:32] [INFO] [rules] Risk assessment completed: Score=50, Triggers=1, Requires OTP=True, Decision=Monitor
[2025-10-22 14:14:32] [INFO] [rules] Creating fraud alert for transaction 324: Medium risk, score 50
[2025-10-22 14:14:32] [INFO] [rules] Fraud alert created: ID 154
[2025-10-22 14:14:32] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:14:32] [INFO] [rules] Starting risk assessment for transaction 324
[2025-10-22 14:14:32] [INFO] [rules] Transaction details: Amount=500.00 DZD, Type=transfer, Client=loay abassi
[2025-10-22 14:14:32] [INFO] [rules] ðŸŽ¯ Enhanced Distance-Based Risk Analysis for Transaction 324:
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Home location: (34.931003, 9.357500)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Current transaction location: (34.7275264, 10.7446272)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Last verified location: (35.628646, 10.898637)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ“ Distance from last verified: 101.17km
[2025-10-22 14:14:32] [INFO] [rules]   ðŸŽ¯ Effective distance: 101.17km (minimum = safest path)
[2025-10-22 14:14:32] [INFO] [rules]   ðŸ† Closest reference point: LAST_VERIFIED
[2025-10-22 14:14:32] [INFO] [rules]   ðŸš§ Distance threshold: 60.0km
[2025-10-22 14:14:32] [WARNING] [rules] Rule 4 triggered: âš ï¸ Effective distance violation: 101.17km > 60.0km threshold
[2025-10-22 14:14:32] [WARNING] [rules] âŒ LOCATION VIOLATION: Effective distance 101.17km exceeds 60.0km threshold
[2025-10-22 14:14:32] [WARNING] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:14:32] [WARNING] [rules]   ðŸ“ Distance from last verified: 101.17km
[2025-10-22 14:14:32] [WARNING] [rules]   ðŸš« Both distances exceed threshold - OTP REQUIRED
[2025-10-22 14:14:32] [INFO] [rules] Rule evaluation: Effective Distance Violation - OTP REQUIRED | Transaction: 324 | Status: TRIGGERED | Risk Score: 50 | Data: {"rule_name": "Effective Distance Violation - OTP REQUIRED", "transaction_id": 324, "triggered": true, "risk_score": 50, "triggers": ["\u274c EFFECTIVE DISTANCE VIOLATION: 101.17km > 60.0km", "Distance from home: 128.61km", "Distance from last verified: 101.17km", "Effective distance (minimum): 101.17km", "Both distances exceed threshold \u2192 OTP REQUIRED"]}
[2025-10-22 14:14:32] [CRITICAL] [rules] ðŸ” MANDATORY OTP REQUIRED: Effective distance 101.17km exceeds 60.0km threshold for transaction 324
[2025-10-22 14:14:32] [CRITICAL] [rules] ðŸ” Effective distance-based OTP enforcement: Transaction 324 requires mandatory OTP
[2025-10-22 14:14:32] [INFO] [rules] Risk assessment completed: Score=50, Triggers=1, Requires OTP=True, Decision=Monitor
[2025-10-22 14:14:39] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:14:39] [INFO] [rules] ML Location features: Home=128.61km, LastVerified=101.17km, Effective=101.17km
[2025-10-22 14:14:39] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:14:39] [INFO] [rules] ML Location features: Home=128.61km, LastVerified=101.17km, Effective=101.17km
[2025-10-22 14:14:41] [INFO] [rules] Fraud alert already exists for transaction 324: ID 154
[2025-10-22 14:15:26] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:15:26] [INFO] [rules] Starting risk assessment for transaction 325
[2025-10-22 14:15:26] [INFO] [rules] Transaction details: Amount=5000.00 DZD, Type=transfer, Client=loay abassi
[2025-10-22 14:15:26] [INFO] [rules] ðŸŽ¯ Enhanced Distance-Based Risk Analysis for Transaction 325:
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Home location: (34.931003, 9.357500)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Current transaction location: (34.7275264, 10.7446272)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Last verified location: (34.727526, 10.744627)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Distance from last verified: 0.00km
[2025-10-22 14:15:26] [INFO] [rules]   ðŸŽ¯ Effective distance: 0.00km (minimum = safest path)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ† Closest reference point: LAST_VERIFIED
[2025-10-22 14:15:26] [INFO] [rules]   ðŸš§ Distance threshold: 60.0km
[2025-10-22 14:15:26] [INFO] [rules] âœ… LOCATION APPROVED: Effective distance 0.00km (closest to LAST_VERIFIED) is within 60.0km threshold
[2025-10-22 14:15:26] [INFO] [rules] Rule evaluation: Effective Distance Validation - APPROVED | Transaction: 325 | Status: NOT_TRIGGERED | Risk Score: 0 | Data: {"rule_name": "Effective Distance Validation - APPROVED", "transaction_id": 325, "triggered": false, "risk_score": 0, "triggers": ["\u2705 Location approved by effective distance: 0.00km \u2264 60.0km", "Distance from home: 128.61km", "Distance from last verified: 0.00km", "Effective distance (minimum): 0.00km", "Approved by: LAST_VERIFIED location"]}
[2025-10-22 14:15:26] [INFO] [rules] Risk assessment completed: Score=0, Triggers=0, Requires OTP=False, Decision=Approve
[2025-10-22 14:15:26] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:15:26] [INFO] [rules] Starting risk assessment for transaction 325
[2025-10-22 14:15:26] [INFO] [rules] Transaction details: Amount=5000.00 DZD, Type=transfer, Client=loay abassi
[2025-10-22 14:15:26] [INFO] [rules] ðŸŽ¯ Enhanced Distance-Based Risk Analysis for Transaction 325:
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Home location: (34.931003, 9.357500)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Current transaction location: (34.7275264, 10.7446272)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Last verified location: (34.727526, 10.744627)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ“ Distance from last verified: 0.00km
[2025-10-22 14:15:26] [INFO] [rules]   ðŸŽ¯ Effective distance: 0.00km (minimum = safest path)
[2025-10-22 14:15:26] [INFO] [rules]   ðŸ† Closest reference point: LAST_VERIFIED
[2025-10-22 14:15:26] [INFO] [rules]   ðŸš§ Distance threshold: 60.0km
[2025-10-22 14:15:26] [INFO] [rules] âœ… LOCATION APPROVED: Effective distance 0.00km (closest to LAST_VERIFIED) is within 60.0km threshold
[2025-10-22 14:15:26] [INFO] [rules] Rule evaluation: Effective Distance Validation - APPROVED | Transaction: 325 | Status: NOT_TRIGGERED | Risk Score: 0 | Data: {"rule_name": "Effective Distance Validation - APPROVED", "transaction_id": 325, "triggered": false, "risk_score": 0, "triggers": ["\u2705 Location approved by effective distance: 0.00km \u2264 60.0km", "Distance from home: 128.61km", "Distance from last verified: 0.00km", "Effective distance (minimum): 0.00km", "Approved by: LAST_VERIFIED location"]}
[2025-10-22 14:15:26] [INFO] [rules] Risk assessment completed: Score=0, Triggers=0, Requires OTP=False, Decision=Approve
[2025-10-22 14:15:26] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:15:26] [INFO] [rules] ML Location features: Home=128.61km, LastVerified=0.00km, Effective=0.00km
[2025-10-22 14:15:26] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:15:26] [INFO] [rules] ML Location features: Home=128.61km, LastVerified=0.00km, Effective=0.00km
[2025-10-22 14:16:13] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:16:13] [INFO] [rules] Starting risk assessment for transaction 326
[2025-10-22 14:16:13] [INFO] [rules] Transaction details: Amount=12000.00 DZD, Type=transfer, Client=loay abassi
[2025-10-22 14:16:13] [WARNING] [rules] Rule 1 triggered: Large transfer: 12000.00 DZD > 5000.0 DZD
[2025-10-22 14:16:13] [INFO] [rules] Rule evaluation: Large Withdrawal/Transfer | Transaction: 326 | Status: TRIGGERED | Risk Score: 30 | Data: {"rule_name": "Large Withdrawal/Transfer", "transaction_id": 326, "triggered": true, "risk_score": 30, "triggers": ["Large transfer: 12000.00 DZD > 5000.0 DZD"]}
[2025-10-22 14:16:13] [INFO] [rules] ðŸŽ¯ Enhanced Distance-Based Risk Analysis for Transaction 326:
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Home location: (34.931003, 9.357500)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Current transaction location: (34.7275264, 10.7446272)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Last verified location: (34.727526, 10.744627)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Distance from last verified: 0.00km
[2025-10-22 14:16:13] [INFO] [rules]   ðŸŽ¯ Effective distance: 0.00km (minimum = safest path)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ† Closest reference point: LAST_VERIFIED
[2025-10-22 14:16:13] [INFO] [rules]   ðŸš§ Distance threshold: 60.0km
[2025-10-22 14:16:13] [INFO] [rules] âœ… LOCATION APPROVED: Effective distance 0.00km (closest to LAST_VERIFIED) is within 60.0km threshold
[2025-10-22 14:16:13] [INFO] [rules] Rule evaluation: Effective Distance Validation - APPROVED | Transaction: 326 | Status: NOT_TRIGGERED | Risk Score: 30 | Data: {"rule_name": "Effective Distance Validation - APPROVED", "transaction_id": 326, "triggered": false, "risk_score": 30, "triggers": ["\u2705 Location approved by effective distance: 0.00km \u2264 60.0km", "Distance from home: 128.61km", "Distance from last verified: 0.00km", "Effective distance (minimum): 0.00km", "Approved by: LAST_VERIFIED location"]}
[2025-10-22 14:16:13] [WARNING] [rules] Rule 5 triggered: Statistical outlier: z-score 2.43 > 2.0
[2025-10-22 14:16:13] [INFO] [rules] Risk assessment completed: Score=45, Triggers=2, Requires OTP=False, Decision=Monitor
[2025-10-22 14:16:13] [INFO] [rules] Creating fraud alert for transaction 326: Medium risk, score 45
[2025-10-22 14:16:13] [INFO] [rules] Fraud alert created: ID 155
[2025-10-22 14:16:13] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:16:13] [INFO] [rules] Starting risk assessment for transaction 326
[2025-10-22 14:16:13] [INFO] [rules] Transaction details: Amount=12000.00 DZD, Type=transfer, Client=loay abassi
[2025-10-22 14:16:13] [WARNING] [rules] Rule 1 triggered: Large transfer: 12000.00 DZD > 5000.0 DZD
[2025-10-22 14:16:13] [INFO] [rules] Rule evaluation: Large Withdrawal/Transfer | Transaction: 326 | Status: TRIGGERED | Risk Score: 30 | Data: {"rule_name": "Large Withdrawal/Transfer", "transaction_id": 326, "triggered": true, "risk_score": 30, "triggers": ["Large transfer: 12000.00 DZD > 5000.0 DZD"]}
[2025-10-22 14:16:13] [INFO] [rules] ðŸŽ¯ Enhanced Distance-Based Risk Analysis for Transaction 326:
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Home location: (34.931003, 9.357500)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Current transaction location: (34.7275264, 10.7446272)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Last verified location: (34.727526, 10.744627)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Distance from home: 128.61km
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ“ Distance from last verified: 0.00km
[2025-10-22 14:16:13] [INFO] [rules]   ðŸŽ¯ Effective distance: 0.00km (minimum = safest path)
[2025-10-22 14:16:13] [INFO] [rules]   ðŸ† Closest reference point: LAST_VERIFIED
[2025-10-22 14:16:13] [INFO] [rules]   ðŸš§ Distance threshold: 60.0km
[2025-10-22 14:16:13] [INFO] [rules] âœ… LOCATION APPROVED: Effective distance 0.00km (closest to LAST_VERIFIED) is within 60.0km threshold
[2025-10-22 14:16:13] [INFO] [rules] Rule evaluation: Effective Distance Validation - APPROVED | Transaction: 326 | Status: NOT_TRIGGERED | Risk Score: 30 | Data: {"rule_name": "Effective Distance Validation - APPROVED", "transaction_id": 326, "triggered": false, "risk_score": 30, "triggers": ["\u2705 Location approved by effective distance: 0.00km \u2264 60.0km", "Distance from home: 128.61km", "Distance from last verified: 0.00km", "Effective distance (minimum): 0.00km", "Approved by: LAST_VERIFIED location"]}
[2025-10-22 14:16:13] [WARNING] [rules] Rule 5 triggered: Statistical outlier: z-score 2.43 > 2.0
[2025-10-22 14:16:13] [INFO] [rules] Risk assessment completed: Score=45, Triggers=2, Requires OTP=False, Decision=Monitor
[2025-10-22 14:16:13] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:16:13] [INFO] [rules] ML Location features: Home=128.61km, LastVerified=0.00km, Effective=0.00km
[2025-10-22 14:16:13] [INFO] [rules] RiskEngine initialized with 13 thresholds and 4 rules
[2025-10-22 14:16:13] [INFO] [rules] ML Location features: Home=128.61km, LastVerified=0.00km, Effective=0.00km
[2025-10-22 14:16:14] [INFO] [rules] Fraud alert already exists for transaction 326: ID 155
